<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Icons Showcase</title>
    <link rel="stylesheet" href="./icons-selectors.css" />
    <style>
      :root {
        /*general*/
        --sc-border-dimmed__color: rgba(255, 255, 255, 0.1);
        /*body*/
        --sc-body__background-color: #f4f5f5;
        --sc-body__color: #696969;
        --sc-body__font-family: sans-serif;
        --sc-body__font-size: 16px;
        /*top-bar*/
        --sc-top-bar__height: 42px;
        --sc-top-bar__padding-inline: 16px;
        --sc-top-bar__color: var(--sc-body__color);
        --sc-top-bar__background-color: var(--sc-border-dimmed__color);
        --sc-top-bar-button__background-color: var(--sc-border-dimmed__color);
        --sc-top-bar-button__color: var(--sc-body__color);
        --sc-top-bar-button__border: 1px solid var(--sc-border-dimmed__color);
        --sc-top-bar-description__font-size: 12px;
        /*icon*/
        --sc-icon__box: 32px;
        /*container*/
        --sc-icon__container-padding-block: 64px;
        --sc-icon__container-padding-inline: 32px;
        --sc-icon__container-max-width: 1200px;
        /*icons-type-section*/
        --sc-icons-type-section__padding-block-end: 64px;
        --sc-icons-type-section__margin-block-end: 64px;
        --sc-icons-type-section__border: 3px dashed
          var(--sc-border-dimmed__color);
        --sc-icons-type-section-title__font-size: 24px;
        --sc-icons-type-section-title__font-weight: 100;
        --sc-icons-type-section-title__margin-block-end: 32px;
        /*category*/
        --sc-category-title__font-size: 14px;
        --sc-category__margin-block-end: 32px;
        --sc-category-title__margin-block-end: 18px;
        /*icons-container*/
        --sc-icons-container__background: rgba(255, 255, 255, 0.01);
        --sc-icons-container__border: 1px solid var(--sc-border-dimmed__color);
        --sc-icons-container__border-radius: 6px;
        --sc-icons-container__padding: 16px;
        --sc-icons-container-title__margin-block-end: 18px;
        --sc-icons-container-list__gap: 16px;
        --sc-icons-container-list__separation: 16px;
        --sc-icons-container-list__border-block-end: 1px solid
          var(--sc-border-dimmed__color);
      }
      html.dark {
        --sc-body__background-color: #1a1d20;
        --sc-body__color: #999999;
      }
      /*general*/
      body {
        background-color: var(--sc-body__background-color);
        color: var(--sc-body__color);
        font-family: var(--sc-body__font-family);
        font-size: var(--sc-body__font-size);
        margin: 0;
        margin-block-start: var(--sc-top-bar__height);
      }
      * {
        box-sizing: border-box;
      }
      .title {
        margin: 0;
      }
      /*top-bar*/
      .top-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: var(--sc-top-bar__height);
        padding-inline: var(--sc-top-bar__padding-inline);
        background-color: var(--sc-top-bar__background-color);
        color: var(--sc-top-bar__color);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .top-bar__button {
        border-radius: 3px;
        background-color: var(--sc-top-bar-button__background-color);
        border: var(--sc-top-bar-button__border);
        color: var(--sc-top-bar-button__color);
      }
      .top-bar__button:hover {
        filter: brightness(1.4);
      }
      .top-bar__button:active {
        filter: brightness(1.2);
      }
      .top-bar__description {
        font-size: var(--sc-top-bar-description__font-size);
      }
      /*icon*/
      .icon {
        display: inline-block;
        width: var(--sc-icon__box);
        height: var(--sc-icon__box);
        background-image: var(--icon-path);
        background-size: contain;
      }
      /*container*/
      .container {
        padding-inline: var(--sc-icon__container-padding-inline);
        padding-block: var(--sc-icon__container-padding-block);
        max-width: var(--sc-icon__container-max-width);
        margin: 0 auto;
      }
      /*icons-type-section*/
      .icons-type-section:not(:last-child) {
        /* padding-block-end: var(--sc-icons-type-section__padding-block-end); */
        /* border-bottom: var(--sc-icons-type-section__border); */
        margin-block-end: var(--sc-icons-type-section__margin-block-end);
      }
      .icons-type-section__title {
        text-align: center;
        font-size: var(--sc-icons-type-section-title__font-size);
        font-weight: var(--sc-icons-type-section-title__font-weight);
        margin-block-end: var(--sc-icons-type-section-title__margin-block-end);
        text-transform: capitalize;
      }
      .icons-type-section__title--multicolor:before {
        content: "üåà";
        margin-inline-end: 8px;
      }
      .icons-type-section__title--monochrome:before {
        content: "üåà";
        margin-inline-end: 8px;
        filter: sepia(1);
      }
      /*category*/
      .category:not(:last-child) {
        margin-block-end: var(--sc-category__margin-block-end);
      }
      .category__title {
        font-size: var(--sc-category-title__font-size);
        margin-block-end: var(--sc-category-title__margin-block-end);
        text-transform: uppercase;
      }
      .category__title:before {
        content: "üìÅ";
        filter: grayscale(1);
        margin-inline-end: 8px;
      }
      /*icons-container*/
      .icons-container {
        border: var(--sc-icons-container__border);
        border-radius: var(--sc-icons-container__border-radius);
        padding: var(--sc-icons-container__padding);
        background-color: var(--sc-icons-container__background);
      }
      .icons-container__title {
        margin-block-end: var(--sc-icons-container-title__margin-block-end);
      }
      .icons-container__list {
        list-style-type: none;
        margin: 0;
        padding: 0;
        display: flex;
        gap: var(--sc-icons-container-list__gap);
        line-height: 0;
      }
      .icons-container__list:not(:last-child) {
        padding-block-end: var(--sc-icons-container-list__separation);
        margin-block-end: var(--sc-icons-container-list__separation);
        border-block-end: var(--sc-icons-container-list__border-block-end);
      }
    </style>
  </head>
  <body>
    <div class="top-bar">
      <button id="toggle-dark-btn" class="top-bar__button">toggle dark</button>
      <small class="top-bar__description">Automatically generated</small>
    </div>
    <div class="container" id="icons-container">
      <!-- populated dynamically -->
    </div>

    <script>
      const toggleDarkBtn = document.getElementById("toggle-dark-btn");
      const html = document.querySelector("html");
      toggleDarkBtn.addEventListener("click", () => {
        html.classList.toggle("dark");
      });
      const container = document.getElementById("icons-container");
      const output = [];
      const iconsCatalogJson = fetch("./icons-catalog.json")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.json();
        })
        .then((jsonData) => {
          // Process the JSON data
          renderIcons(jsonData);
        })
        .catch((error) => {
          console.error("Error fetching JSON:", error);
        });

      const renderIcons = (iconsCatalogJson) => {
        const outputArray = [];
        //multicolor
        const multicolorSection = renderSection(
          "multicolor",
          iconsCatalogJson.multicolor
        );
        outputArray.push(multicolorSection);

        //monochrome
        const monochromeSection = renderSection(
          "monochrome",
          iconsCatalogJson.monochrome
        );
        outputArray.push(monochromeSection);
        outputArray.forEach((iconsType) => {
          container.appendChild(iconsType);
        });
      };

      const renderSection = (type, iconsType) => {
        const categoriesArray = [];

        /* - - - - - - - - - - - - - - - - - - - - - - */

        // section
        const section = document.createElement("section");
        section.classList.add("icons-type-section");

        // section title
        const sectionTitle = document.createElement("h2");
        sectionTitle.classList.add(
          "title",
          "icons-type-section__title",
          `icons-type-section__title--${type}`
        );
        sectionTitle.textContent = `${type} icons`;

        /* - - - - - - - - - - - - - - - - - - - - - - */

        const categories = Object.keys(iconsType);
        categories.forEach((cat) => {
          // category
          const categoryArticle = document.createElement("article");
          categoryArticle.classList.add("category");

          // category title
          const categoryTitle = document.createElement("h3");
          categoryTitle.classList.add("category__title", "title");
          categoryTitle.textContent = cat;

          // icons container
          const iconsContainer = document.createElement("div");
          iconsContainer.classList.add("icons-container");

          /* - - - - - - - - - - - - - - - - - - - - - - */

          // each category icon
          const icons = Object.keys(iconsType[cat]);
          icons.forEach((icon) => {
            // icon title (h4)
            const h4Element = document.createElement("h4");
            h4Element.classList.add("icons-container__title", "title");
            h4Element.textContent = icon;

            // icon list
            const ulElement = document.createElement("ul");
            ulElement.classList.add("icons-container__list");

            /* - - - - - - - - - - - - - - - - - - - - - - */

            // icon states (list items)
            iconsType[cat][icon].iconSelectors.forEach((state) => {
              // list item
              const liElement = document.createElement("li");
              liElement.classList.add("icons-container__list-item");

              // icon (span)
              const spanElement = document.createElement("span");
              spanElement.classList.add("icon", state);
              spanElement.setAttribute("title", `.${state}`);
              liElement.appendChild(spanElement);
              ulElement.appendChild(liElement);
            });

            iconsContainer.appendChild(h4Element);
            iconsContainer.appendChild(ulElement);
          });

          categoryArticle.appendChild(categoryTitle);
          categoryArticle.appendChild(iconsContainer);
          categoriesArray.push(categoryArticle);
        });

        section.appendChild(sectionTitle);
        categoriesArray.forEach((category) => {
          section.appendChild(category);
        });

        return section;
      };
    </script>
  </body>
</html>
