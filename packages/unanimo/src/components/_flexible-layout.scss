%flexible-layout {
  &-tab-caption {
    background-color: color-mix(
      in srgb,
      var(--colors-foundation__gray--300) 20%,
      transparent
    );

    &--selected {
      background-color: color-mix(
        in srgb,
        var(--colors-foundation__gray--300) 50%,
        transparent
      );
    }
  }

  &-tab-list--inline {
    background-color: var(--colors-foundation__gray--300);
    inline-size: 48px;
    gap: 4px;
  }

  &-tab-list--block {
    background-color: color-mix(
      in srgb,
      var(--colors-foundation__gray--300) 15%,
      transparent
    );
    overflow: auto;
  }

  &-droppable-area {
    background-color: color-mix(
      in srgb,
      var(--accents__secondary--hover) 25%,
      transparent
    );
  }
}

@mixin flexible-layout(
  $tab-selector: ".flexible-layout::part(leaf)",
  $tab-caption-selector: ".flexible-layout::part(button)",
  $tab-caption--selected-selector: ".flexible-layout::part(button selected)",
  $tab-caption--disabled-selector: ".flexible-layout::part(button disabled)",
  $tab-caption-close-button-selector: ".flexible-layout::part(close-button)",
  $tab-list--inline-selector: ".flexible-layout::part(tab-list inline)",
  $tab-list--block-selector: ".flexible-layout::part(tab-list block)",
  $droppable-area-selector: ".flexible-layout::part(droppable-area)",
  $add--disabled: true
) {
  @include tab(
    $tab-selector: #{$tab-selector},
    $tab-caption-selector: #{$tab-caption-selector},
    $tab-caption--selected-selector: #{$tab-caption--selected-selector},
    $tab-caption-close-button-selector: #{$tab-caption-close-button-selector},
    $add--tab: false,
    $add--tab-list: false,
    $add--disabled: $add--disabled
  );

  // - - - - - - - - - - - - - - - - - - - -
  //               Tab Caption
  // - - - - - - - - - - - - - - - - - - - -
  #{$tab-caption-selector} {
    @extend %flexible-layout-tab-caption;
  }

  #{$tab-caption--selected-selector} {
    @extend %flexible-layout-tab-caption--selected;
  }

  // - - - - - - - - - - - - - - - - - - - -
  //                Tab List
  // - - - - - - - - - - - - - - - - - - - -
  #{$tab-list--inline-selector} {
    @extend %flexible-layout-tab-list--inline;
  }

  #{$tab-list--block-selector} {
    @extend %flexible-layout-tab-list--block;
  }

  // - - - - - - - - - - - - - - - - - - - -
  //             Droppable area
  // - - - - - - - - - - - - - - - - - - - -
  #{$droppable-area-selector} {
    @extend %flexible-layout-droppable-area;
  }
}
