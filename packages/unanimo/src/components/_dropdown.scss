@import "../base/typography";

%dropdown-window-primary {
  @extend %text-body-2;
  padding-block: var(--spacing-un-spacing--m);
  background-color: var(--header-un-header-primary__background-color);
  border-radius: var(--border-radius-un-border__radius--l);
  box-shadow: var(--box-shadows-un-box-shadow--1);
  color: var(--text-un-text__on-secondary);
}

%dropdown-window-secondary {
  @extend %text-body-2;
  padding-block: var(--spacing-un-spacing--m);
  background-color: var(--elevation-un-elevation--1);
  border-radius: var(--border-radius-un-border__radius--l);
  box-shadow: var(--box-shadows-un-box-shadow--1);
  color: var(--text-un-text__on-surface--positive);
}

%dropdown-item-action {
  --ch-dropdown-item__image-size: 24px;
  padding-inline: var(--spacing-un-spacing--l);
  padding-block: var(--spacing-un-spacing--xs);
  gap: var(--spacing-un-spacing--s);

  &--focus {
    @include focus-style($outline: true);
  }
}

%dropdown-item-action-primary {
  &--hover {
    background-color: var(--header-un-header-primary__background-color--hover);
  }

  &--active {
    background-color: var(--header-un-header-primary__background-color--active);
  }
}

%dropdown-item-action-secondary {
  &--hover {
    background-color: var(--accents-un-accent__primary-dim--hover);
  }

  &--active {
    background-color: var(--accents-un-accent__primary-dim--hover);
    color: var(--text-un-text__primary--active);
  }
}

%dropdown-separator {
  margin-block: var(--spacing-un-spacing--s);
}

@mixin dropdown() {
  /* .action-group::part(more-actions-window),
      .action-group-item::part(window), */

  .dropdown-primary::part(window),
  .dropdown-primary .dropdown-item::part(window) {
    @extend %dropdown-window-primary;
  }

  .dropdown-secondary::part(window),
  .dropdown-secondary .dropdown-item::part(window) {
    @extend %dropdown-window-secondary;
  }

  .dropdown-item::part(action) {
    @extend %dropdown-item-action;
  }

  .dropdown-separator {
    @extend %dropdown-separator;
  }

  /* .dropdown::part(expandable-button) {
              padding-inline: $spacing.inset-m;
              color: $colors.primary;
              font-family: $fonts.primary-semibold;
              font-size: $fontSizes.s;
              letter-spacing: 0.25px;
            } */

  .action-group-primary::part(more-actions-button):hover,
  .action-group-primary .action-group-item::part(action):hover,
  .dropdown-primary .dropdown-item::part(action):hover {
    @extend %dropdown-item-action-primary--hover;
  }

  .action-group-primary::part(more-actions-button):active,
  .action-group-primary .action-group-item::part(action):active,
  .dropdown-primary .dropdown-item::part(action):active {
    @extend %dropdown-item-action-primary--active;
  }

  .action-group-secondary::part(more-actions-button):hover,
  .action-group-secondary .action-group-item::part(action):hover,
  .dropdown-secondary .dropdown-item::part(action):hover {
    @extend %dropdown-item-action-secondary--hover;
  }

  .action-group-secondary::part(more-actions-button):active,
  .action-group-secondary .action-group-item::part(action):active,
  .dropdown-secondary .dropdown-item::part(action):active {
    @extend %dropdown-item-action-secondary--active;
  }

  .action-group::part(more-actions-button):focus-visible,
  .action-group-item::part(action):focus-visible,
  .dropdown::part(expandable-button):focus-visible,
  .dropdown-item::part(action):focus-visible {
    @extend %dropdown-item-action;
  }

  .action-group-item::part(expandable-action)::after,
  .dropdown-item::part(expandable-action)::after {
    content: "";
    border-block-start: 4px dashed currentColor;
    border-inline: 4px solid transparent;
    margin-inline-start: 4px;
  }
}
