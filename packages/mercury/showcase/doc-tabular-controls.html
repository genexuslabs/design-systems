<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Controls inside Tablular Grid</title>
    <style>
      /* Avoid FOUC (Flash Of Unstyled Content) */
      html:not(.hydrated) {
        visibility: hidden;
      }
      .list-box {
        inline-size: 100%;
        block-size: 300px;
      }
    </style>
    <script type="module" src="./assets/scripts/scripts-header.js"></script>

    <link rel="stylesheet" href="./all.css" />
    <link rel="stylesheet" href="./assets/styles/top-bar.css" />
    <link rel="stylesheet" href="./assets/styles/sidebar.css" />
    <link rel="stylesheet" href="./assets/styles/main.css" />
    <link rel="stylesheet" href="./assets/styles/reset.css" />
  </head>
  <body class="showcase" data-sidebar>
    <script src="./assets/scripts/scripts.js"></script>
    <main class="main">
      <div class="container">
        <!-- control section -->
        <section class="section" data-nav>
          <!-- header -->
          <header class="section__header">
            <h1 class="section__title">tabular grid controls</h1>
            <p class="section__description">
              Explore our interactive showcase of versatile controls, including
              combo-boxes, list-boxes, and more, seamlessly integrated into the
              tabular-grid component. Each example demonstrates how these
              controls adapt within the grid's structured layout, highlighting
              their functionality and design
            </p>
          </header>
          <div class="section__articles-container">
            <!-- ========================== 
          control name
          =========================== -->
            <article class="article" data-nav data-title="list-box">
              <!-- header -->
              <header class="article__header"></header>
              <!-- main -->
              <div class="article__main">
                <div class="article__content">
                  <ch-tabular-grid
                    class="tabular-grid"
                    row-selection-mode="simple"
                    keyboard-navigation-mode="focus"
                  >
                    <ch-tabular-grid-columnset class="tabular-grid-column-set">
                      <ch-tabular-grid-column
                        class="tabular-grid-column"
                        column-id="code"
                        column-name="Country Code"
                        settingable="false"
                        sortable="true"
                      ></ch-tabular-grid-column>
                      <ch-tabular-grid-column
                        class="tabular-grid-column"
                        column-id="name"
                        column-name="Presidential Elections"
                        settingable="false"
                        sortable="true"
                      ></ch-tabular-grid-column>
                      <ch-tabular-grid-column
                        class="tabular-grid-column"
                        column-id="language"
                        column-name="Country Language"
                        settingable="false"
                        sortable="true"
                      ></ch-tabular-grid-column>
                    </ch-tabular-grid-columnset>

                    <ch-tabular-grid-row class="tabular-grid-row" rowid="ar">
                      <ch-tabular-grid-cell class="tabular-grid-cell"
                        >AR</ch-tabular-grid-cell
                      >
                      <ch-tabular-grid-cell
                        class="tabular-grid-cell"
                        id="list-box-cell"
                      >
                        Select Period
                        <ch-popover id="list-box-popover">
                          <ch-action-list-render
                            selection="none"
                            class="list-box"
                            id="action-list-1"
                          ></ch-action-list-render>
                        </ch-popover>
                      </ch-tabular-grid-cell>
                      <ch-tabular-grid-cell class="tabular-grid-cell"
                        >Spanish</ch-tabular-grid-cell
                      >
                    </ch-tabular-grid-row>

                    <ch-tabular-grid-row class="tabular-grid-row" rowid="br">
                      <ch-tabular-grid-cell class="tabular-grid-cell"
                        >BR</ch-tabular-grid-cell
                      >
                      <ch-tabular-grid-cell
                        class="tabular-grid-cell"
                        id="list-box-cell"
                      >
                        1973-1974
                        <ch-popover id="list-box-popover">
                          <ch-action-list-render
                            selection="none"
                            class="list-box"
                            id="action-list-1"
                          ></ch-action-list-render>
                        </ch-popover>
                      </ch-tabular-grid-cell>
                      <ch-tabular-grid-cell class="tabular-grid-cell"
                        >Portuguese</ch-tabular-grid-cell
                      >
                    </ch-tabular-grid-row>
                  </ch-tabular-grid>
                </div>
                <div class="article__content">
                  <button class="button-primary" id="show-popover-btn">
                    Show List Box
                  </button>
                  <script type="module">
                    // list-box
                    import { argentinianPresidents } from "./assets/models/action-list.js";
                    const actionList1 =
                      document.getElementById("action-list-1");
                    actionList1.model = argentinianPresidents;

                    // list-box cell
                    const listBoxCell =
                      document.getElementById("list-box-cell");

                    // popover
                    const listBoxPopover =
                      document.getElementById("list-box-popover");

                    // Show popover btn
                    const showPopoverBtn =
                      document.getElementById("show-popover-btn");
                    listBoxPopover.actionElement = listBoxCell;
                    listBoxPopover.actionById = true;
                    listBoxPopover.inlineSizeMatch = "action-element";
                    listBoxPopover.blockAlign = "inside-start";

                    setTimeout(() => {
                      // WA to avoid "undefined" when initial selection != "none"
                      actionList1.selection = "multiple";
                      console.log(listBoxPopover);
                    }, 500);

                    showPopoverBtn.addEventListener("click", () => {
                      listBoxPopover.hidden = false;
                    });
                  </script>
                </div>
                <!-- /.article__content -->
                <div class="article__code" hidden>
                  <ch-code language="tsx" class="code"></ch-code>
                  <script>
                    code = ``;
                  </script>
                </div>
              </div>
              <!-- /.article__main -->
            </article>
          </div>
        </section>
      </div>
    </main>
  </body>
</html>
