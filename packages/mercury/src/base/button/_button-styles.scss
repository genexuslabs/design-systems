@import "../button/button-tokens";

%button-base {
  @include button-common-styles();
  @include control-border();
  @include control-font-size-regular();
  @include control-padding-inline-block();
  padding-inline: var(--control__padding-inline);

  &--focus-visible {
    @include focus-outline();
  }
}

%button-primary {
  @include button-tokens-primary();
  @include control-font-weight-semi-bold();
  @extend %button-base;

  //overwrite some control default styles
  --control__border-color: var(--button-primary__border-color);

  background-color: var(--button-primary__bg-color);
  color: var(--button-primary__color);

  &--hover {
    background-color: var(--button-primary__bg-color--hover);
    --control__border-color: var(--button-primary__border-color--hover);
    color: var(--button-primary__color--hover);
  }

  &--active {
    background-color: var(--button-primary__bg-color--active);
    --control__border-color: var(--button-primary__border-color--active);
    color: var(--button-primary__color--active);
  }

  &--disabled {
    background-color: var(--button-primary__bg-color--disabled);
    --control__border-color: var(--button-primary__bg-color--disabled);
    color: var(--button-primary__color--disabled);
  }

  &--destructive {
    --control__border-color: var(--button-primary__border-color--destructive);
    background-color: var(--button-primary__bg-color--destructive);
    color: var(--button-primary__color--destructive);

    &-hover {
      --control__border-color: var(
        --button-primary__bg-color--destructive-hover
      );
      background-color: var(--button-primary__bg-color--destructive-hover);
      color: var(--button-primary__color--destructive);
    }

    &-active {
      --control__border-color: var(
        --button-primary__bg-color--destructive-active
      );
      background-color: var(--button-primary__bg-color--destructive-active);
      color: var(--button-primary__color--destructive);
    }
  }
}

%button-secondary {
  @include button-tokens-secondary();
  @extend %button-base;

  //overwrite some control default styles
  --control__border-color: var(--button-secondary__border-color);

  background-color: var(--button-secondary__background-color);
  color: var(--button-secondary__color);

  &--hover {
    background-color: var(--button-secondary__background-color--hover);
    --control__border-color: var(--button-secondary__border-color--hover);
    color: var(--button-secondary__color--hover);
  }

  &--active {
    background-color: var(--button-secondary__background-color--active);
    --control__border-color: var(--button-secondary__border-color--active);
    color: var(--button-secondary__color--active);
  }

  &--disabled {
    background-color: var(--button-secondary__background-color--disabled);
    --control__border-color: var(--button-secondary__border-color--disabled);
    color: var(--button-secondary__color--disabled);
  }

  &--destructive {
    --control__border-color: var(--button-secondary__border-color--destructive);
    background-color: var(--button-secondary__bg-color--destructive);
    color: var(--button-secondary__color--destructive);

    &-hover {
      --control__border-color: var(
        --button-secondary__bg-color--destructive-hover
      );
      background-color: var(--button-secondary__bg-color--destructive-hover);
      color: var(--button-secondary__color--destructive);
    }

    &-active {
      --control__border-color: var(
        --button-secondary__bg-color--destructive-active
      );
      background-color: var(--button-secondary__bg-color--destructive-active);
      color: var(--button-secondary__color--destructive);
    }
  }
}

%button-tertiary {
  @include button-tokens-tertiary();
  @include control-font-weight-regular();
  @extend %button-base;

  //overwrite some control default styles
  --control__border-color: var(--button-tertiary__border-color);

  background-color: var(--button-tertiary__background-color);
  color: var(--button-tertiary__color);

  &--hover {
    background-color: var(--button-tertiary__background-color--hover);
    --control__border-color: var(--button-tertiary__border-color--hover);
    color: var(--button-tertiary__color--hover);
  }

  &--active {
    background-color: var(--button-tertiary__background-color--active);
    --control__border-color: var(--button-tertiary__border-color--active);
    color: var(--button-tertiary__color--active);
  }

  &--disabled {
    background-color: var(--button-tertiary__background-color--disabled);
    --control__border-color: var(--button-tertiary__border-color--disabled);
    color: var(--button-tertiary__color--disabled);
  }
}

%buttons-spacer {
  display: flex;
  gap: var(--mer-spacing--xs);
}

/// @group Button
/// @param {String} $selector [".button-primary"] -
/// @param {String} $destructive-selector [".button-primary-destructive"] -
/// @param {Boolean} $add--disabled [true] -
/// @param {Boolean} $add--destructive [true] -
@mixin button-primary(
  $selector: ".button-primary",
  $destructive-selector: ".button-primary-destructive",
  $add--disabled: true,
  $add--destructive: true
) {
  #{$selector} {
    @extend %button-primary;

    &:focus-visible {
      @extend %button-base--focus-visible;
    }

    &:hover {
      @extend %button-primary--hover;
    }

    &:active {
      @extend %button-primary--active;
    }

    @if $add--disabled {
      &:disabled {
        @extend %button-primary--disabled;
      }
    }
  }

  @if $add--destructive {
    #{$destructive-selector} {
      @extend %button-primary--destructive;

      &:hover {
        @extend %button-primary--destructive-hover;
      }

      &:active {
        @extend %button-primary--destructive-active;
      }
    }
  }
}

/// @group Button
/// @param {String} $selector [".button-secondary"] -
@mixin button-secondary(
  $selector: ".button-secondary",
  $destructive-selector: ".button-secondary-destructive",
  $add--disabled: true,
  $add--destructive: true
) {
  #{$selector} {
    @extend %button-secondary;

    &:focus-visible {
      @extend %button-base--focus-visible;
    }

    &:hover {
      @extend %button-secondary--hover;
    }

    &:active {
      @extend %button-secondary--active;
    }

    @if $add--disabled == true {
      &:disabled,
      &--disabled {
        @extend %button-secondary--disabled;
      }
    }
  }

  @if $add--destructive {
    #{$destructive-selector} {
      @extend %button-secondary--destructive;

      &:hover {
        @extend %button-secondary--destructive-hover;
      }

      &:active {
        @extend %button-secondary--destructive-active;
      }
    }
  }
}

/// @group Button
/// @param {String} $selector [".button-tertiary"] -
@mixin button-tertiary($selector: ".button-tertiary", $add--disabled: true) {
  #{$selector} {
    @extend %button-tertiary;

    &:focus-visible {
      @extend %button-base--focus-visible;
    }

    &:hover {
      @extend %button-tertiary--hover;
    }

    &:active {
      @extend %button-tertiary--active;
    }

    @if $add--disabled == true {
      &:disabled,
      &--disabled {
        @extend %button-tertiary--disabled;
      }
    }
  }
}

/// @group Button
/// @param {String} $selector [".buttons-spacer"] -
@mixin buttons-spacer($selector: ".buttons-spacer") {
  #{$selector} {
    @extend %buttons-spacer;
  }
}

@mixin button-classes() {
  // Button primary
  @include button-primary();

  // Button secondary
  @include button-secondary();

  // Button tertiary
  @include button-tertiary();

  // Buttons spacer
  @include buttons-spacer();
}
