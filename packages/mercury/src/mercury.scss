// Base styles from packages/common
@import "../../common/base";
@import "../../common/utilities";

@import "./base/common";

// Resets
@import "../../common/resets";

// Tokens Primitive
@import "./tokens/primitive/border";
@import "./tokens/primitive/color";
@import "./tokens/primitive/elevation";
@import "./tokens/primitive/font";
@import "./tokens/primitive/spacing";
@import "./tokens/primitive/timing";

// Tokens Semantic
@import "./tokens/semantic/accent";
@import "./tokens/semantic/border";
@import "./tokens/semantic/icon";
@import "./tokens/semantic/item";
@import "./tokens/semantic/other";
@import "./tokens/semantic/text";
@import "./tokens/semantic/accent";

// Base classes
@import "./base/label/label-styles"; // should be at the top, since other elements use it.
@import "./base/button/button-styles";
@import "./base/form-controls/form-input-styles";
@import "./base/icons";
@import "./base/typography/typography-styles";

// Icons
@import "./icons/button";
@import "./icons/form-input";

// Components
@import "./components/checkbox/checkbox-styles";
@import "./components/combo-box/combo-box-styles";
@import "./components/dialog/dialog-styles";
@import "./components/radio-group/radio-group-styles";
@import "./components/shortcuts/styles";
@import "./components/tree-view/tree-view-styles";
@import "./components/tabular-grid/tabular-grid-styles";
@import "./components/tab/tab-styles";
@import "./components/code/code-styles";

@mixin mercury(
  // Resets
  $resets: true,
  $box-sizing-reset: true,
  $button-reset: true,
  $input-reset: true,
  $other-reset: true,
  $typography-reset: true,

  // Theme
  $light-theme: true,
  $dark-theme: true,
  $prefers-color-scheme-light: false,
  $prefers-color-scheme-dark: false,

  // Tokens
  $tokens: true,
  $border: true,
  $colors: true,
  $elevation: true,
  $font: true,
  $spacing: true,
  $timing: true,

  // Icons
  $icons-path: "./assets/icons/",

  // Font face
  $font-face: true,
  $font-face-path: "./assets/fonts/",

  // Base
  $base-classes: true,
  $label: true,
  $button-classes: true,
  $form-controls-classes: true,
  $icon-classes: true,
  $typography-classes: true,

  // Icons
  $icons-elements: true,

  // Components
  $components: true,
  $combo-box: true,
  $dialog: true,
  $checkbox: true,
  $radio-group: true,
  $tree-view-primary: true,
  $tabular-grid: true,
  $tab: true,
  $code: true
) {
  // - - - - - - - - - - - - - - - - - - - -
  //              Icons
  // - - - - - - - - - - - - - - - - - - - -

  @import "./icons/_generated/all-lists";

  // Monochrome Icons
  $gemini-tools-virtual-selectors: generate-icons-virtual-selectors(
    $gemini-tools,
    "gemini-tools"
  );
  $menus-virtual-selectors: generate-icons-virtual-selectors($menus, "menus");
  $navigation-virtual-selectors: generate-icons-virtual-selectors(
    $navigation,
    "navigation"
  );
  $windows-tools-virtual-selectors: generate-icons-virtual-selectors(
    $windows-tools,
    "windows-tools"
  );

  // - - - - - - - - - - - - - - - - - - - -
  //              Typography
  // - - - - - - - - - - - - - - - - - - - -
  // font-face
  @if $font-face {
    //light
    @font-face {
      font-family: Inter_Light; // 300
      src: url("#{$font-face-path}Inter_Light.woff2");
      font-display: swap;
    }

    //regular
    @font-face {
      font-family: Inter_Regular; // 400
      src: url("#{$font-face-path}Inter_Regular.woff2");
      font-display: swap;
    }

    //semi-bold
    @font-face {
      font-family: Inter_SemiBold; // 600
      src: url("#{$font-face-path}Inter_SemiBold.woff2");
      font-display: swap;
    }

    //bold
    @font-face {
      font-family: Inter_Bold; // 700
      src: url("#{$font-face-path}Inter_Bold.woff2");
      font-display: swap;
    }

    //extra-bold
    @font-face {
      font-family: Inter_ExtraBold; // 800
      src: url("#{$font-face-path}Inter_ExtraBold.woff2");
      font-display: swap;
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //              Color Schemes
  // - - - - - - - - - - - - - - - - - - - -

  // Light
  @if $colors and $light-theme and $tokens {
    :root.light {
      // Fixes issues in elements that force its color based on this property.
      // For example, the font color of the input with autocomplete (:-webkit-autofill)
      color-scheme: light;
      @include foundation-colors--light();
    }
  }
  @if $colors and $tokens and $prefers-color-scheme-light {
    @media (prefers-color-scheme: light) {
      :root {
        // Fixes issues in elements that force its color based on this property.
        // For example, the font color of the input with autocomplete (:-webkit-autofill)
        color-scheme: light;
        @include foundation-colors--light();
      }
    }
  }

  // Dark
  @if $colors and $dark-theme and $tokens {
    :root.dark {
      // Fixes issues in elements that force its color based on this property.
      // For example, the font color of the input with autocomplete (:-webkit-autofill)
      color-scheme: dark;
      @include foundation-colors--dark();
    }
  }
  @if $colors and $tokens and $prefers-color-scheme-dark {
    @media (prefers-color-scheme: dark) {
      :root {
        // Fixes issues in elements that force its color based on this property.
        // For example, the font color of the input with autocomplete (:-webkit-autofill)
        color-scheme: dark;
        @include foundation-colors--dark();
      }
    }
  }

  // Semantic Colors (Are independent of color scheme)
  @if $colors and $tokens {
    :root {
      @include semantic-accent();
      @include semantic-border();
      @include semantic-icon();
      @include semantic-item();
      @include semantic-text();
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //        Other Tokens than Colors
  // - - - - - - - - - - - - - - - - - - - -

  // Primitive
  @if $tokens and ($border or $elevation or $font or $spacing or $timing) {
    :root {
      // Border
      @if $border {
        @include border();
      }

      // Elevation Light
      @if $elevation and $light-theme {
        @include elevation--light();
      }
      @if $elevation and $prefers-color-scheme-light {
        @media (prefers-color-scheme: light) {
          @include elevation--light();
        }
      }

      // Elevation Dark
      @if $elevation and $dark-theme {
        @include elevation--dark();
      }
      @if $elevation and $prefers-color-scheme-dark {
        @media (prefers-color-scheme: dark) {
          @include elevation--dark();
        }
      }

      // Font
      @if $font {
        @include font();
      }

      // Spacing
      @if $spacing {
        @include spacing();
      }

      // Timing
      @if $timing {
        @include timing();
      }
    }
  }

  // Semantic (Other than colors)
  @if $tokens {
    :root {
      // Other
      @include semantic-other();
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //                General
  // - - - - - - - - - - - - - - - - - - - -
  body {
    @include document-common-styles();

    @if $tokens {
      // Default background-color and color
      @if $colors {
        background-color: var(--mer-color__surface);
        color: var(--mer-text__on-surface);
      }

      @if $font {
        line-height: var(--mer-line-height--regular);
      }

      @if $font-face {
        font-family: Inter_Regular;
      }
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //                 Resets
  // - - - - - - - - - - - - - - - - - - - -
  @if $resets {
    // box-sizing
    @if $box-sizing-reset {
      @include box-sizing();
    }

    // <button> and <a> reset
    @if $button-reset {
      @include button-reset();
    }

    @if $input-reset {
      @include input-reset();
    }

    // <hr> reset
    @if $other-reset {
      @include other-reset();
    }

    // Typography reset
    @if $typography-reset {
      @include typography-reset();
    }

    // Typography classes
    @if $typography-classes {
      @include typography-classes();
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //              Base classes
  // - - - - - - - - - - - - - - - - - - - -
  @if $base-classes {
    // Label classes
    @if $label {
      @include label();
    }

    // Button classes
    @if $button-classes {
      // Button primary
      @include button-primary();

      // Button secondary
      @include button-secondary();

      // Button tertiary
      @include button-tertiary();
    }

    // Form control classes
    @if $form-controls-classes {
      @include form-input();
    }

    // Icon classes
    @if $icon-classes {
      @include icon-mask();
      @include icon-background();
      @include form-input-icon();
      @include form-input-bg-x-rtl-support();
    }
  }

  // - - - - - - - - - - - - - - - - - - - -
  //     Icons on Elements / Components
  // - - - - - - - - - - - - - - - - - - - -
  @if ($icons-elements) {
    // Process icons lists
    @include process-monochrome-icons-list($gemini-tools-virtual-selectors);
    @include process-monochrome-icons-list($menus-virtual-selectors);
    @include process-monochrome-icons-list($navigation-virtual-selectors);
    @include process-monochrome-icons-list($windows-tools-virtual-selectors);

    // Button icon only
    @include button-icon-only();

    // Button icon and text
    @include button-icon-and-text();

    // Button icon after and text
    @include button-icon-after-and-text();

    // Form input text
    @include form-input-icon();
  }

  // - - - - - - - - - - - - - - - -  - - -
  //               Components
  // - - - - - - - - - - - - - - - - - - -
  @if $components {
    // checkbox
    @if $checkbox {
      @include checkbox();
    }

    // radio-group
    @if $radio-group {
      @include radio-group();
    }

    // tree view
    @if $tree-view-primary {
      @include tree-view-primary();
    }

    // combo box
    @if $combo-box {
      @include combo-box();
    }

    // dialog
    @if $dialog {
      @include dialog();
    }

    // tabular grid
    @if $tabular-grid {
      @include tabular-grid();
    }

    // tab
    @if $tab {
      @include tab();
    }

    // code
    @if $code {
      @include code();
    }
  }
}
